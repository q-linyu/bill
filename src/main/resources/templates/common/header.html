<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<div class="page-header" th:fragment="header">
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <div class="logo-sm">
                    <a href="javascript:void(0)" id="sidebar-toggle-button">
                        <i class="fa fa-bars"></i>
                    </a>
                    <a class="logo-box" th:href="@{/home.html}">
                        <span>Bill</span>
                    </a>
                </div>
                <button
                        type="button"
                        class="navbar-toggle collapsed"
                        data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"
                        aria-expanded="false"
                >
                    <i class="fa fa-angle-down"></i>
                </button>
            </div>
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="javascript:void(0)" id="collapsed-sidebar-toggle-button">
                            <i class="fa fa-bars"></i>
                        </a>
                    </li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li class="dropdown user-dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                            <img th:src="@{/images/avater.png}" alt="" class="img-circle" />
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a onclick="logout();">
                                    <i class="fa fa-sign-out" aria-hidden="true"></i>&nbsp;
                                    退出
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <script type="text/javascript" th:src="@{/webjars/jquery/3.3.1/jquery.min.js}"></script>
    <script type="text/javascript">

        // 退出
        function logout() {
            $.ajax({
                url: '/logout',
                type: 'GET',
                success: function (res) {
                    if (res.status === 200){
                        setTimeout(function () {
                            // 退出后,页面刷新会自动跳转到首页
                            window.location.reload();
                        },1000)
                    }
                },
                error: function (err) {
                    console.log(err);
                }
            })
        }

    </script>
</div>
</html>